{
  "id": 29,
  "title": "Deployment dashboard - <%= @app_name %>",
  "tags": [],
  "style": "dark",
  "timezone": "browser",
  "editable": true,
  "hideControls": false,
  "sharedCrosshair": false,
  "rows": [
    {
      "collapse": false,
      "editable": true,
      "height": 116,
      "panels": [
        {
          "content": "<h1>This dashboard is a prototype</h1>\n\n<p style=\"font-size:18px\">If you have any feedback, please talk to the search team, visit one of our show-and-tells or find us on Slack at #search-team.</p>",
          "id": 6,
          "links": [],
          "mode": "html",
          "span": 12,
          "title": "",
          "type": "text"
        }
      ],
      "repeat": null,
      "repeatIteration": null,
      "repeatRowId": null,
      "showTitle": false,
      "title": "Dashboard Row",
      "titleSize": "h6"
    },
    {
      "collapse": false,
      "editable": true,
      "height": 290,
      "panels": [
        <%= scope.function_template(["grafana/dashboards/deployment_panels/_processor_count.json.erb"]) %>,
        <%= scope.function_template(["grafana/dashboards/deployment_panels/_5xx_rate.json.erb"]) %>
      ],
      "repeat": null,
      "repeatIteration": null,
      "repeatRowId": null,
      "showTitle": false,
      "title": "Dashboard Row",
      "titleSize": "h6"
    },
    {
      "collapse": false,
      "editable": true,
      "height": 250,
      "panels": [
        <%= scope.function_template(["grafana/dashboards/deployment_panels/_error_deploy_counts.json.erb"]) %>,
        <%= scope.function_template(["grafana/dashboards/deployment_panels/_recent_500_count.json.erb"]) %>,
        <%= scope.function_template(["grafana/dashboards/deployment_panels/_period_500_count.json.erb"]) %>,
        <%= scope.function_template(["grafana/dashboards/deployment_panels/_links.json.erb"]) %>
        <% unless @has_workers %>
        ,
        <%= scope.function_template(["grafana/dashboards/deployment_panels/_worker_failures.json.erb"]) %>,
        <%= scope.function_template(["grafana/dashboards/deployment_panels/_worker_successes.json.erb"]) %>
        <% end %>
      ],
      "repeat": null,
      "repeatIteration": null,
      "repeatRowId": null,
      "showTitle": false,
      "title": "Dashboard Row",
      "titleSize": "h6"
    },
    {
      "collapse": false,
      "editable": true,
      "height": "250px",
      "panels": [
        <%= scope.function_template(["grafana/dashboards/deployment_panels/_errors_by_controller_action.json.erb"]) %>
      ],
      "title": "New row"
    },
    {
      "collapse": false,
      "editable": true,
      "height": "250px",
      "panels": [
        <%= scope.function_template(["grafana/dashboards/deployment_panels/_response_times_by_controller.json.erb"]) %>
      ],
      "title": "New row"
    }
  ],
  "time": {
    "from": "now/d",
    "to": "now/d"
  },
  "timepicker": {
    "refresh_intervals": [
      "5s",
      "10s",
      "30s",
      "1m",
      "5m",
      "15m",
      "30m",
      "1h",
      "2h",
      "1d"
    ],
    "time_options": [
      "5m",
      "15m",
      "1h",
      "6h",
      "12h",
      "24h",
      "2d",
      "7d",
      "30d"
    ]
  },
  "templating": {
    "list": []
  },
  "annotations": {
    "list": [
      {
        "datasource": "Graphite",
        "enable": true,
        "iconColor": "rgba(255, 96, 96, 1)",
        "name": "Deploys",
        "target": "stats.govuk.app.<%= @app_name %>.all.deploys"
      },
      {
        "datasource": "Graphite",
        "enable": true,
        "iconColor": "rgb(225, 251, 0)",
        "name": "Restarts",
        "target": "substr(stats.govuk.app.<%= @app_name %>.restarts,3,5)"
      }
    ]
  },
  "refresh": "1m",
  "schemaVersion": 12,
  "version": 31,
  "links": [],
  "gnetId": null
}
